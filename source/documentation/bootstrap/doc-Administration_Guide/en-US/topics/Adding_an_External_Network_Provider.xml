<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Administration_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="Adding_an_External_Network_Provider">
<title>Adding an External Network Provider</title>
<para>Any network provider that implements the OpenStack Neutron REST API can be added to Red Hat Virtualization. The virtual interface driver needs to be provided by the implementer of the external network provider. A reference implementation of a network provider and a virtual interface driver are available at <ulink url="https://github.com/mmirecki/ovirt-provider-mock"/> and <ulink url="https://github.com/mmirecki/ovirt-provider-mock/blob/master/docs/driver_instalation"/>.</para>
<procedure>
		<title>Adding an External Network Provider for Network Provisioning</title>
		<step>
			<para>
				Select the <guilabel>External Providers</guilabel> entry in the tree pane.
			</para>
		</step>
		<step>
			<para>
				Click <guibutton>Add</guibutton>.
			</para>
			<figure>
				<title>The Add Provider Window</title>
				<mediaobject>
					<imageobject>
						<imagedata fileref="images/externalNetworkProvider.png" />
					</imageobject>
					<textobject> 
						<phrase>The Add Provider Window</phrase>
					</textobject>
				</mediaobject>
			</figure>
		</step>
		<step>
			<para>
				Enter a <guilabel>Name</guilabel> and <guilabel>Description</guilabel>.
			</para>
		</step>
		<step>
			<para>
				From the <guilabel>Type</guilabel> list, select <guilabel>External Network Provider</guilabel>.
			</para>
		</step>
   <step>
			<para>
				Enter the <acronym>URL</acronym> or fully qualified domain name of the machine on which the external network provider is installed in the <guilabel>Provider URL</guilabel> text field, followed by the port number. The <guilabel>Read-Only</guilabel> check box is selected by default. This prevents users from modifying the external network provider. 
			</para>
        <important><para>You must leave the <guilabel>Read-Only</guilabel> check box selected for your setup to be supported by Red Hat.</para></important>
		</step>
		<step>
			<para>
				Optionally, select the <guilabel>Requires Authentication</guilabel> check box and enter the <guilabel>Username</guilabel>, <guilabel>Password</guilabel>, <guilabel>Tenant Name</guilabel>, and <guilabel>Authentication URL</guilabel> for the external network provider. <!--You must use the user name and password for the OpenStack Networking user registered in Keystone, the tenant of which the OpenStack Networking instance is a member, and the URL and port of the Keystone server.-->
			</para>
		</step>
		<step>
			<para>
				Test the credentials:
			</para>
			<substeps>
				<step>
					<para>
						Click <guilabel>Test</guilabel> to test whether you can authenticate successfully with the external network provider using the provided credentials.
					</para>
				</step>
				<step>
					<para>
						If the external network provider uses <acronym>SSL</acronym>, the <guilabel>Import provider certificates</guilabel> window opens; click <guilabel>OK</guilabel> to import the certificate that the external network provider provides to ensure the Manager can communicate with the instance.
					</para>
				</step>
			</substeps>
		</step>
	</procedure>
	<para>
		You have added an external networking provider to the Red Hat Virtualization Manager. Before you can use the networks it provides, you need to install the virtual interface driver on the hosts and import the networks. To import networks, see <xref linkend="Importing_Networks"/>.
	</para>
</section>
