<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Virtual_Machine_Management_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="Creating_a_template_from_an_existing_virtual_machine" remap="TID_7559">
	<title>Creating a Template</title>
	<para>
		Create a template from an existing virtual machine to use as a blueprint for creating additional virtual machines.
	</para>
	<important>
		<para>
			Before you create a template, you must seal the source virtual machine to ensure all system-specific details are removed from the virtual machine. This is necessary to prevent the same details from appearing on multiple virtual machines created based on the same template. See <xref linkend="sect-Sealing_a_Linux_Virtual_Machine_for_Deployment_as_a_Template" />.
		</para>
	</important>
	<procedure>
		<title>Creating a Template</title>
		<step>
			<para>
				Click the <guilabel>Virtual Machines</guilabel> tab and select the source virtual machine.
			</para>
		</step>
		<step>
			<para>
				Ensure the virtual machine is powered down and has a status of <literal>Down</literal>.
			</para>
		</step>
		<step>
			<para>
				Click <guibutton>Make Template</guibutton>.
			</para>
			<para>
				<figure>
					<title>The New Template window</title>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/6325.png" />
						</imageobject>
						<textobject> 
							<phrase>The New Template window</phrase>
						</textobject>
					</mediaobject>
				</figure>
			</para>
		</step>
		<step>
			<para>
				Enter a <guilabel>Name</guilabel>, <guilabel>Description</guilabel>, and <guilabel>Comment</guilabel> for the template.
			</para>
		</step>
		<step>
			<para>
				Select the cluster with which to associate the template from the <guilabel>Cluster</guilabel> drop-down list. By default, this is the same as that of the source virtual machine.
			</para>
		</step>
		<step>
			<para>
				Optionally, select a <acronym>CPU</acronym> profile for the template from the <guilabel>CPU Profile</guilabel> drop-down list.
			</para>
		</step>
		<step>
			<para>
				Optionally, select the <guilabel>Create as a Sub Template version</guilabel> check box, select a <guilabel>Root Template</guilabel>, and enter a <guilabel>Sub Version Name</guilabel> to create the new template as a sub template of an existing template.
			</para>
		</step>
		<step>
			<para>
				In the <guilabel>Disks Allocation</guilabel> section, enter an alias for the disk in the <guilabel>Alias</guilabel> text field, and select the storage domain on which to store the disk from the <guilabel>Target</guilabel> list. By default, these are the same as those of the source virtual machine.
			</para>
		</step>
		<step>
			<para>
				Select the <guilabel>Allow all users to access this Template</guilabel> check box to make the template public.
			</para>
		</step>
		<step>
			<para>
				Select the <guilabel>Copy VM permissions</guilabel> check box to copy the permissions of the source virtual machine to the template.
			</para>
		</step>
		<step>
			<para>
				Click <guibutton>OK</guibutton>.
			</para>
		</step>
	</procedure>
	<para>
		The virtual machine displays a status of <literal>Image Locked</literal> while the template is being created. The process of creating a template may take up to an hour depending on the size of the virtual machine disk and the capabilities of your storage hardware. When complete, the template is added to the <guilabel>Templates</guilabel> tab. You can now create new virtual machines based on the template.
	</para>
	<para>
		<note>
			<para>
				When a template is made, the virtual machine is copied so that both the existing virtual machine and its template are usable after template creation.
			</para>
		</note>
	</para>
</section>