<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Virtual_Machine_Management_Guide.ent">
%BOOK_ENTITIES;
]>

<section id="Pinning_VMs_Multiple_Hosts">
  <title>Pinning a Virtual Machine to Multiple Hosts</title>
  <para>
    Virtual machines can be pinned to multiple hosts. Multi-host pinning allows a virtual machine to run on a specific subset of hosts within a cluster, instead of one specific host or all hosts in the cluster. The virtual machine cannot run on any other hosts in the cluster even if all of the specified hosts are unavailable. Multi-host pinning can be used to limit virtual machines to hosts with, for example, the same physical hardware configuration. 
  </para>
  <para>
    A virtual machine that is pinned to multiple hosts cannot be live migrated, but in the event of a host failure, any virtual machine configured to be highly available is automatically restarted on one of the other hosts to which the virtual machine is pinned. 
  </para>
  <note>
    <para>
      High availability is not supported for virtual machines that are pinned to a single host. 
    </para>
  </note>
  <procedure>
    <title>Pinning Virtual Machines to Multiple Hosts</title>
    <step>
      <para>
	Click the <guilabel>Virtual Machines</guilabel> tab and select a virtual machine.
      </para>
    </step>
    <step>
      <para>
	Click <guibutton>Edit</guibutton>.
      </para>
    </step>
    <step>
      <para>
	Click the <guilabel>Host</guilabel> tab.
      </para>
    </step>
    <step>
      <para>
	Select the <guilabel>Specific</guilabel> radio button under <guilabel>Start Running On</guilabel> and select two or more hosts from the list. 
      </para>
    </step>
    <step>
      <para>
	Select <guilabel>Do not allow migration</guilabel> from the <guilabel>Migration Options</guilabel> drop-down list. 
      </para>
    </step>
    <step>
      <para>
	Click the <guilabel>High Availability</guilabel> tab.
      </para>
    </step>
    <step>
      <para>
	Select the <guilabel>Highly Available</guilabel> check box.
      </para>
    </step>
    <step>
      <para>
	Select <guilabel>Low</guilabel>, <guilabel>Medium</guilabel>, or <guilabel>High</guilabel> from the <guilabel>Priority</guilabel> drop-down list. When migration is triggered, a queue is created in which the high priority virtual machines are migrated first. If a cluster is running low on resources, only the high priority virtual machines are migrated.
      </para>
    </step>
    <step>
      <para>
	Click <guibutton>OK</guibutton>.
      </para>
    </step>
  </procedure>
</section>