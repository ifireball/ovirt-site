<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Administration_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="Ovirt_Engine_Rename_Tool">
	<title>The oVirt Engine Rename Tool</title>
	<para>
		When the <command>engine-setup</command> command is run in a clean environment, the command generates a number of certificates and keys that use the fully qualified domain name of the Manager supplied during the setup process. If the fully qualified domain name of the Manager must be changed later on (for example, due to migration of the machine hosting the Manager to a different domain), the records of the fully qualified domain name must be updated to reflect the new name. The <command>ovirt-engine-rename</command> command automates this task.
	</para>
	<para>
		The <command>ovirt-engine-rename</command> command updates records of the fully qualified domain name of the Manager in the following locations:
	</para>
	<itemizedlist>
		<listitem>
			<para>
				/etc/ovirt-engine/engine.conf.d/10-setup-protocols.conf
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/ovirt-engine/imageuploader.conf.d/10-engine-setup.conf
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/ovirt-engine/isouploader.conf.d/10-engine-setup.conf
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/ovirt-engine/logcollector.conf.d/10-engine-setup.conf
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/pki/ovirt-engine/cert.conf
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/pki/ovirt-engine/cert.template
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/pki/ovirt-engine/certs/apache.cer
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/pki/ovirt-engine/keys/apache.key.nopass
			</para>
		</listitem>
		<listitem>
			<para>
				/etc/pki/ovirt-engine/keys/apache.p12
			</para>
		</listitem>
	</itemizedlist>
	<warning>
		<para>
			While the <command>ovirt-engine-rename</command> command creates a new certificate for the web server on which the Manager runs, it does not affect the certificate for the engine or the certificate authority. Due to this, there is some risk involved in using the <command>ovirt-engine-rename</command> command, particularly in environments that have been upgraded from Red Hat Enterprise Virtualization 3.2 and earlier. Therefore, changing the fully qualified domain name of the Manager by running <command>engine-cleanup</command> and <command>engine-setup</command> is recommended where possible.
		</para>
	</warning>
</section>

